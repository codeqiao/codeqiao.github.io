<!DOCTYPE html>
<html lang="cn">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="keywords" content="Hexo Theme Keep">
    <meta name="description" content="Hexo Theme Keep">
    <meta name="author" content="Qiao">
    
    <title>
        
            操作系统笔记 |
        
        Qiao&#39;s Blog
    </title>
    
<link rel="stylesheet" href="/css/style.css">

    <link rel="shortcut icon" href="/images/logo.svg">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.6.1/source/font/css/fontawesome.min.css">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.6.1/source/font/css/regular.min.css">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.6.1/source/font/css/solid.min.css">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.6.1/source/font/css/brands.min.css">
    <script id="hexo-configurations">
    let KEEP = window.KEEP || {}
    KEEP.hexo_config = {"hostname":"codeqiao.github.io","root":"/","language":"cn","path":"search.xml"}
    KEEP.theme_config = {"toc":{"enable":true,"number":false,"expand_all":true,"init_open":false},"style":{"primary_color":"#0066cc","logo":"https://cdn.staticaly.com/gh/XPoet/image-hosting@master/hexo-theme-keep/logo.7ihwqpf2atg0.svg","favicon":"/images/logo.svg","avatar":"/images/avatar.svg","font_size":null,"font_family":"STKaiti","hover":{"shadow":true,"scale":true},"first_screen":{"enable":true,"header_transparent":true,"background_img":"/images/bg.svg","description":"黄色的森林分出两条路 || 我选择人迹更少的那一条，从此决定我一生的道路。","font_color":null,"hitokoto":true},"scroll":{"progress_bar":false,"percent":true}},"local_search":{"enable":false,"preload":false},"code_copy":{},"code_block":{"tools":{"enable":true,"style":"default"},"highlight_theme":"default"},"side_tools":{},"pjax":{"enable":false},"lazyload":{"enable":false},"comment":{"enable":false,"use":"valine","valine":{"appid":null,"appkey":null,"server_urls":null,"placeholder":null},"gitalk":{"github_id":null,"github_admins":null,"repository":null,"client_id":null,"client_secret":null,"proxy":null},"twikoo":{"env_id":null,"region":null,"version":"1.6.8"},"waline":{"server_url":null,"reaction":false,"version":2}},"post":{"author_label":{"enable":false,"auto":true,"custom_label_list":["Trainee","Engineer","Architect"]},"word_count":{"enable":false,"wordcount":true,"min2read":true},"img_align":"left","copyright_info":false},"version":"3.6.1"}
    KEEP.language_ago = {"second":"%s seconds ago","minute":"%s minutes ago","hour":"%s hours ago","day":"%s days ago","week":"%s weeks ago","month":"%s months ago","year":"%s years ago"}
    KEEP.language_code_block = {"copy":"Copy code","copied":"Copied","fold":"Fold code block","folded":"Folded"}
    KEEP.language_copy_copyright = {"copy":"Copy copyright info","copied":"Copied","title":"Original article title","author":"Original article author","link":"Original article link"}
  </script>
<meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="Qiao's Blog" type="application/atom+xml">
</head>


<body>
<div class="progress-bar-container">
    

    
</div>


<main class="page-container">

    

    <div class="page-main-content">

        <div class="page-main-content-top">
            
<header class="header-wrapper">

    <div class="header-content">
        <div class="left">
            
                <a class="logo-image" href="/">
                    <img src="https://cdn.staticaly.com/gh/XPoet/image-hosting@master/hexo-theme-keep/logo.7ihwqpf2atg0.svg">
                </a>
            
            <a class="logo-title" href="/">
               Qiao&#39;s Blog
            </a>
        </div>

        <div class="right">
            <div class="pc">
                <ul class="menu-list">
                    
                        <li class="menu-item">
                            <a class=""
                               href="/"
                            >
                                首页
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/archives"
                            >
                                归档
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/tags/%E6%97%85%E8%A1%8C"
                            >
                                旅行
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/links"
                            >
                                友链
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/categories"
                            >
                                分类
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/HTML/index.html"
                            >
                                关于我
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/test"
                            >
                                测试
                            </a>
                        </li>
                    
                    
                </ul>
            </div>
            <div class="mobile">
                
                <div class="icon-item menu-bar">
                    <div class="menu-bar-middle"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="header-drawer">
        <ul class="drawer-menu-list">
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/">首页</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/archives">归档</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/tags/%E6%97%85%E8%A1%8C">旅行</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/links">友链</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/categories">分类</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/HTML/index.html">关于我</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/test">测试</a>
                </li>
            
        </ul>
    </div>

    <div class="window-mask"></div>

</header>


        </div>

        <div class="page-main-content-middle">

            <div class="main-content">

                
                    <div class="fade-in-down-animation">
    <div class="post-page-container">
        <div class="article-content-container">

            <div class="article-title">
                <span class="title-hover-animation">操作系统笔记</span>
            </div>

            
                <div class="article-header">
                    <div class="avatar">
                        <img src="/images/avatar.svg">
                    </div>
                    <div class="info">
                        <div class="author">
                            <span class="name">Qiao</span>
                            
                        </div>
                        <div class="meta-info">
                            
<div class="article-meta-info">
    <span class="article-date article-meta-item">
        
            <i class="fa-regular fa-calendar-plus"></i>&nbsp;
        
        <span class="pc">2023-03-05 18:11:04</span>
        <span class="mobile">2023-03-05 18:11</span>
    </span>
    
        <span class="article-update-date article-meta-item">
        <i class="fas fa-file-pen"></i>&nbsp;
        <span class="pc">2023-03-08 00:05:19</span>
    </span>
    
    
        <span class="article-categories article-meta-item">
            <i class="fas fa-folder"></i>&nbsp;
            <ul>
                
                    <li>
                        <a href="/categories/%E7%AC%94%E8%AE%B0/">笔记</a>&nbsp;
                    </li>
                
            </ul>
        </span>
    
    
        <span class="article-tags article-meta-item">
            <i class="fas fa-tags"></i>&nbsp;
            <ul>
                
                    <li>
                        <a href="/tags/%E7%AC%94%E8%AE%B0/">笔记</a>&nbsp;
                    </li>
                
            </ul>
        </span>
    

    
    
    
    
</div>

                        </div>
                    </div>
                </div>
            

            <div class="article-content keep-markdown-body">
                

                <p>[toc]</p>
<h2 id="第一章-操作系统概述">第一章 操作系统概述</h2>
<p><img src="%E7%AC%AC%E4%B8%80%E7%AB%A0.jpg" alt="操作系统概述"></p>
<h2 id="第二章-进程管理">第二章 进程管理</h2>
<p><img src="%E7%AC%AC%E4%BA%8C%E7%AB%A0.jpg" alt="进程管理"></p>
<h2 id="第三章-进程调度与死锁">第三章 进程调度与死锁</h2>
<p><img src="%E7%AC%AC%E4%B8%89%E7%AB%A0.jpg" alt="进程调度与死锁"></p>
<h2 id="第四章-内存管理">第四章 内存管理</h2>
<p><img src="%E7%AC%AC%E5%9B%9B%E7%AB%A0.jpg" alt="内存管理"></p>
<h2 id="第五章-设备管理">第五章 设备管理</h2>
<h3 id="IO系统">IO系统</h3>
<blockquote>
<p>按速率分类：低速设备、中速设备、告诉设备</p>
<p>按信息交换单位分类：字符设备、块设备</p>
</blockquote>
<blockquote>
<p>IO系统结构：</p>
</blockquote>
<ul class="lvl-0">
<li class="lvl-2">
<p>单通路IO系统：无冗余设备，容错性差</p>
</li>
<li class="lvl-2">
<p>多通路IO系统：有冗余设备，容错性好</p>
</li>
</ul>
<blockquote>
<p>设备控制器</p>
</blockquote>
<p><img src="image-20230307222408734.png" alt="image-20230307222408734"></p>
<p><img src="image-20230307223203656.png" alt="image-20230307223203656"></p>
<p><img src="image-20230307223414744.png" alt="image-20230307223414744"></p>
<blockquote>
<p>IO控制方式：</p>
</blockquote>
<p><img src="image-20230307223606152.png" alt="image-20230307223606152"></p>
<blockquote>
<p>DMA方式：</p>
</blockquote>
<ul class="lvl-0">
<li class="lvl-2">
<p><code>数据的传送单位是块</code></p>
</li>
<li class="lvl-2">
<p>数据传输的开始和结束时，才需要CPU干预</p>
</li>
<li class="lvl-2">
<p>优点：CPU介入频率降低，数据传输不需要在经过CPU写入内存,数据的传输速率进一步提神，CPU与IO的并行性得到了增加</p>
</li>
<li class="lvl-2">
<p>缺点：CPU每发送一条指令只能读写一个或者多个连续的数据块。对离散数据的读写不太友好。</p>
</li>
<li class="lvl-2">
<p><img src="image-20230307225041433.png" alt="image-20230307225041433"></p>
</li>
</ul>
<blockquote>
<p>通道控制方式</p>
</blockquote>
<ul class="lvl-0">
<li class="lvl-2">
<p>IO通道目的：使原来由CPU处理的IO任务转由通道来承担没从而把CPU从繁杂的IO任务中解脱出来。</p>
</li>
<li class="lvl-2">
<p>IO通道是一种特殊的处理器</p>
</li>
<li class="lvl-2">
<p>一般只有数据传送指令、设备控制指令等</p>
</li>
<li class="lvl-2">
<p>通道没有自己的内存，通道执行的程序（通道程序）是存放在内存中的，他与IO共享内存</p>
</li>
</ul>
<p><img src="image-20230307225758169.png" alt="image-20230307225758169"></p>
<h3 id="缓冲管理">缓冲管理</h3>
<blockquote>
<p>引入缓存的原因：</p>
</blockquote>
<ul class="lvl-0">
<li class="lvl-2">
<p>缓和CPU和IO设备的矛盾</p>
</li>
<li class="lvl-2">
<p>减少CPU中断的频率</p>
</li>
<li class="lvl-2">
<p>提高CPU和IO设备的并行性</p>
</li>
<li class="lvl-2">
<p>解决数据粒度不匹配的问题</p>
</li>
</ul>
<blockquote>
<p>单缓冲</p>
</blockquote>
<p><img src="image-20230307233604352.png" alt="image-20230307233604352"></p>
<p><img src="image-20230307234026810.png" alt="image-20230307234026810"></p>
<p><img src="image-20230307233918610.png" alt="image-20230307233918610"></p>
<p><img src="image-20230307234004352.png" alt="image-20230307234004352"></p>
<blockquote>
<p>双缓冲</p>
</blockquote>
<p><img src="image-20230307234225164.png" alt="image-20230307234225164"></p>
<ul class="lvl-0">
<li class="lvl-2">
<p>循环缓冲区</p>
</li>
</ul>
<p><img src="image-20230307234505626.png" alt="image-20230307234505626"></p>
<blockquote>
<p>缓冲池</p>
</blockquote>
<p><img src="image-20230307234634766.png" alt="image-20230307234634766"></p>
<p><img src="image-20230307234644097.png" alt="image-20230307234644097"></p>
<h3 id="设备分配">设备分配</h3>
<p><img src="image-20230307231930308.png" alt="image-20230307231930308"></p>
<p><img src="image-20230307232034081.png" alt="image-20230307232034081"></p>
<ul class="lvl-0">
<li class="lvl-2">
<p>安全分配：进程得到资源就阻塞，一个进程只能占用设备</p>
</li>
<li class="lvl-2">
<p>不安全分配：并行分配，一个进程可以同时得到多个设备资源</p>
</li>
</ul>
<p><img src="image-20230307233026635.png" alt="image-20230307233026635"></p>
<blockquote>
<p>设备独立性：</p>
</blockquote>
<ul class="lvl-0">
<li class="lvl-2">
<p>定义：用户程序独立于具体使用的物理设备</p>
</li>
</ul>
<p><img src="image-20230307234828993.png" alt="image-20230307234828993"></p>
<p><img src="image-20230307234856316.png" alt="image-20230307234856316"></p>
<p><img src="image-20230307234912025.png" alt="image-20230307234912025"></p>
<blockquote>
<p>假脱机技术：SPOOLing技术</p>
</blockquote>
<p><img src="image-20230307231246011.png" alt="image-20230307231246011"></p>
<p><img src="image-20230307231318680.png" alt="image-20230307231318680"></p>
<p><img src="image-20230307231737400.png" alt="image-20230307231737400"></p>
<ul class="lvl-0">
<li class="lvl-2">
<p>SPOOLing技术可以将一台物理设备虚拟成逻辑上的多台设备，可将独占是设备改造成共享设备。</p>
</li>
<li class="lvl-2">
<p>SPOOLing技术的特点：</p>
<blockquote>
<p>提高IO速度</p>
<p>改造独占设备为共享设备</p>
<p>实现虚拟设备</p>
</blockquote>
</li>
</ul>
<h3 id="磁盘存储管理">磁盘存储管理</h3>
<p><img src="image-20230307215237950.png" alt="image-20230307215237950"></p>
<ul class="lvl-0">
<li class="lvl-2">
<p>每个扇区就是一个磁盘块（扇区面积不一样但是存储数据的大小是一样的）</p>
</li>
<li class="lvl-2">
<p>（柱面号，盘面号，扇区号）就可以表示一个物理位置</p>
</li>
</ul>
<p><img src="image-20230307215831415.png" alt="image-20230307215831415"></p>
<blockquote>
<p>磁盘调度算法</p>
</blockquote>
<p><img src="image-20230307215936748.png" alt="image-20230307215936748"></p>
<p><img src="image-20230307220332494.png" alt="image-20230307220332494"></p>
<ul class="lvl-0">
<li class="lvl-2">
<p>先来先服务算法 （FCFS）</p>
</li>
<li class="lvl-2">
<p>最短寻找时间优先算法（SSTF）</p>
</li>
<li class="lvl-2">
<p>扫描算法（SCAN）：会产生饥饿现象，磁臂粘着现象（在一小段区间来回摆动）</p>
</li>
<li class="lvl-2">
<p>循环扫描算法（C-SCAN）</p>
</li>
</ul>
<h2 id="第六章-文件系统">第六章 文件系统</h2>
<h3 id="初识文件系统">初识文件系统</h3>
<blockquote>
<p>文件的属性</p>
</blockquote>
<ul class="lvl-0">
<li class="lvl-2">
<p>文件名</p>
</li>
<li class="lvl-2">
<p>标识符：一个系统内的标识符唯一</p>
</li>
<li class="lvl-2">
<p>类型</p>
</li>
<li class="lvl-2">
<p>位置：文件的路径</p>
</li>
<li class="lvl-2">
<p>大小、创建时间、上次修改的时间</p>
</li>
<li class="lvl-2">
<p>文件所有者信息</p>
</li>
<li class="lvl-2">
<p>保护信息：对文件进行保护的访问控制信息</p>
</li>
</ul>
<blockquote>
<p>文件之间是怎样组织起来的</p>
</blockquote>
<ul class="lvl-0">
<li class="lvl-2">
<p>以树的形式组织起来的</p>
</li>
</ul>
<blockquote>
<p>操作系统应该向上提供哪些共功能：</p>
</blockquote>
<ul class="lvl-0">
<li class="lvl-2">
<p>创建文件：create</p>
</li>
<li class="lvl-2">
<p>读文件：read</p>
</li>
<li class="lvl-2">
<p>写文件：write</p>
</li>
<li class="lvl-2">
<p>删除文件：delete</p>
</li>
<li class="lvl-2">
<p>打开文件：open</p>
</li>
<li class="lvl-2">
<p>关闭文件：close</p>
</li>
</ul>
<p><img src="image-20230307190556416.png" alt="image-20230307190556416"></p>
<h3 id="文件的逻辑结构">文件的逻辑结构</h3>
<blockquote>
<p>文件的逻辑结构</p>
</blockquote>
<ul class="lvl-0">
<li class="lvl-2">
<p>无结构文件：文件内部就是一系列二进制流或字符流组成，又称流式文件。</p>
</li>
<li class="lvl-2">
<p>有结构文件：顺序文件、索引文件、索引顺序文件。</p>
<ul class="lvl-2">
<li class="lvl-4">有一组相似的记录组成，又称记录式文件‘</li>
<li class="lvl-4">根据各条记录的长度分为：定长记录，可变长记录</li>
</ul>
</li>
</ul>
<blockquote>
<p>顺序文件</p>
</blockquote>
<ul class="lvl-0">
<li class="lvl-2">
<p>文件中的记录是一个接着一个顺序排列的（逻辑上），记录是可变长的或者定长的，记录在物理上可以<code>顺序存储</code>或者<code>链式存储</code></p>
</li>
</ul>
<p><img src="image-20230307191311251.png" alt="image-20230307191311251"></p>
<p><img src="image-20230307191502472.png" alt="image-20230307191502472"></p>
<p><code>定长记录的顺序文件物理上采用顺序存储是可以实现随机存取的，如果能保证记录的顺序结构，则可以实现快速检索</code></p>
<blockquote>
<p>索引文件</p>
</blockquote>
<ul class="lvl-0">
<li class="lvl-2">
<p>利用索引表（索引表本身就是一个定长记录的顺序文件），对每一个记录创建一个索引表项。</p>
</li>
</ul>
<blockquote>
<p>索引顺序文件</p>
</blockquote>
<ul class="lvl-0">
<li class="lvl-2">
<p>索引顺序文件是索引文件和顺序文件思想的结合，索引顺序文件中，同样会为文件建立一张索引表，不同的是。并不是每个记录对应一个索引表项，而是<code>一组记录对应一个索引表项</code></p>
</li>
</ul>
<p><img src="image-20230307192401387.png" alt="image-20230307192401387"></p>
<p><img src="image-20230307192425126.png" alt="image-20230307192425126"></p>
<p><img src="image-20230307192534217.png" alt="image-20230307192534217"></p>
<h3 id="文件目录">文件目录</h3>
<p><img src="image-20230307192641291.png" alt="image-20230307192641291"></p>
<blockquote>
<p>目录文件中的每一条记录就是一个文件控制块（FCB），文件控制块的有限集合，就构成了目录。</p>
</blockquote>
<blockquote>
<p>对目录进行哪些操作：</p>
</blockquote>
<ul class="lvl-0">
<li class="lvl-2">
<p>搜索</p>
</li>
<li class="lvl-2">
<p>创建文件</p>
</li>
<li class="lvl-2">
<p>删除文件</p>
</li>
<li class="lvl-2">
<p>显示文件</p>
</li>
<li class="lvl-2">
<p>修改目录</p>
</li>
</ul>
<blockquote>
<p>目录结构–单级目录结构</p>
</blockquote>
<ul class="lvl-0">
<li class="lvl-2">
<p>按名存取，不允许文件重名</p>
</li>
<li class="lvl-2">
<p>不适用于多用户操作系统</p>
</li>
</ul>
<blockquote>
<p>目录结构–两级目录结构</p>
</blockquote>
<ul class="lvl-0">
<li class="lvl-2">
<p>分为主文件目录和用户文件目录</p>
</li>
<li class="lvl-2">
<p>允许不同用户的文件重名</p>
</li>
</ul>
<blockquote>
<p>目录结构–多级目录结构，又名树形目录结构</p>
</blockquote>
<ul class="lvl-0">
<li class="lvl-2">
<p>从根目录出发的路径称为绝对路径</p>
</li>
<li class="lvl-2">
<p>从当前目录出发的叫相对路径</p>
</li>
<li class="lvl-2">
<p>树形目录结构不方便实现文件共享</p>
</li>
</ul>
<blockquote>
<p>目录结构–无环图目录结构</p>
</blockquote>
<ul class="lvl-0">
<li class="lvl-2">
<p>在树形结构的基础上，增加一些指向同一节点有向边，使整个目录成为有向无环图</p>
</li>
</ul>
<p><img src="image-20230307193931970.png" alt="image-20230307193931970"></p>
<p><img src="image-20230307194112714.png" alt="image-20230307194112714"></p>
<p><img src="image-20230307194145280.png" alt="image-20230307194145280"></p>
<h3 id="文件的物理结构（文件的分配方式）">文件的物理结构（文件的分配方式）</h3>
<p><img src="image-20230307194326416.png" alt="image-20230307194326416"></p>
<blockquote>
<p>文件块和磁盘块</p>
</blockquote>
<ul class="lvl-0">
<li class="lvl-2">
<p>文件的逻辑地址空间被分为一个一个的文件块</p>
</li>
<li class="lvl-2">
<p>用户用逻辑地址来访问文件，操作系统实现逻辑地址到物理地址的映射。</p>
</li>
<li class="lvl-2">
<p><code>逻辑块号映射为物理块号</code></p>
</li>
</ul>
<blockquote>
<p>文件分配方式–连续分配</p>
</blockquote>
<ul class="lvl-0">
<li class="lvl-2">
<p>连续分配方式要求每个文件在磁盘上占有一组连续的块</p>
</li>
<li class="lvl-2">
<p><code>支持顺序访问和直接访问 </code> – 优点</p>
</li>
</ul>
<p><img src="image-20230307194944503.png" alt="image-20230307194944503"></p>
<ul class="lvl-0">
<li class="lvl-2">
<p>连续分配要求每个文件在磁盘上占有一组连续的块</p>
</li>
<li class="lvl-2">
<p>连续分配的文件在顺序读写时速度最快  – 优点</p>
</li>
<li class="lvl-2">
<p>物理上连续分配的文件不方便拓展 – 缺点</p>
</li>
<li class="lvl-2">
<p>物理上采用连续分配存储空间利用率低，会产生难以利用的磁盘碎片 – 缺点</p>
</li>
</ul>
<blockquote>
<p>文件分配方式–链式分配 默认是显示链接</p>
</blockquote>
<ul class="lvl-0">
<li class="lvl-2">
<p>隐式链接（目录中记录文件的起始块号和结束块号）：只支持顺序访问，不支持随机访问，方便拓展文件。不会产生磁盘碎片</p>
<p><img src="image-20230307200752807.png" alt="image-20230307200752807"></p>
</li>
<li class="lvl-2">
<p>显示链接：物理块号可以是隐含的</p>
<p><img src="image-20230307200957037.png" alt="image-20230307200957037"></p>
</li>
<li class="lvl-2">
<p>显示链接逻辑块号转换为物理块号的过程不需要读磁盘操作</p>
</li>
<li class="lvl-2">
<p>支持顺序访问也支持随机访问，不会产生外部碎片，可以很方便的对文件进行拓展。</p>
</li>
</ul>
<blockquote>
<p>文件分配方式–索引分配</p>
</blockquote>
<p><img src="image-20230307201713271.png" alt="image-20230307201713271"></p>
<ul class="lvl-0">
<li class="lvl-2">
<p>逻辑块号到物理块号的映射</p>
</li>
<li class="lvl-2">
<p>支持随机访问，文件拓展也很容易实现，索引表需要占用一定的空间。</p>
</li>
<li class="lvl-2">
<p>当文件的大小过大，会导致一个磁盘块存不下该文件的索引表，那么我们该怎么解决这样的问题？</p>
<blockquote>
<ul class="lvl-3">
<li class="lvl-2">
<p>链接方案：低效。</p>
</li>
<li class="lvl-2">
<p>多层索引：<strong>多层索引文件的最大长度问题</strong></p>
</li>
<li class="lvl-2">
<p><strong>若采用K层索引结构，且顶级索引表项未调入内存，那么需要K+1次磁盘操作</strong></p>
</li>
<li class="lvl-2">
<p>多层索引对小的文件索引不友好</p>
</li>
<li class="lvl-2">
<p>混合索引：<img src="image-20230307203034492.png" alt="image-20230307203034492"></p>
</li>
</ul>
</blockquote>
</li>
<li class="lvl-2">
<p><img src="image-20230307203343613.png" alt="image-20230307203343613"></p>
</li>
</ul>
<blockquote>
<p>文件分配方式总结：</p>
</blockquote>
<p><img src="image-20230307203423035.png" alt="image-20230307203423035"></p>
<h3 id="文件存储空间管理">文件存储空间管理</h3>
<p><img src="image-20230307203640783.png" alt="image-20230307203640783"></p>
<blockquote>
<p>存储空间的划分与初始化</p>
</blockquote>
<ul class="lvl-0">
<li class="lvl-2">
<p>存储空间的划分：将物理磁盘划分一个个文件卷（逻辑卷、逻辑盘）如：C、D盘</p>
</li>
<li class="lvl-2">
<p>每一个文件卷划分为：目录区（存放文件目录信息（FCB））和文件区（文件数据）</p>
</li>
</ul>
<blockquote>
<p>存储空间管理 – 空闲表法</p>
</blockquote>
<p><img src="image-20230307204220495.png" alt="image-20230307204220495"></p>
<ul class="lvl-0">
<li class="lvl-2">
<p>回收时注意表项的合并问题</p>
</li>
<li class="lvl-2">
<p>可以采用首次适应，最佳适应，最坏适应算法来决定为文件分配哪个空间。</p>
</li>
</ul>
<blockquote>
<p>存储空间管理–空闲链表法</p>
</blockquote>
<p><img src="image-20230307204542789.png" alt="image-20230307204542789"></p>
<ul class="lvl-0">
<li class="lvl-2">
<p>空闲盘块链的分配与回收</p>
<blockquote>
<p>操作系统保存着链头和链尾指针</p>
<p>分配：若某个文件申请K个磁盘，则从链头开始依次摘下K个磁盘分配，并修改空间链的链头指针</p>
<p>回收：回收盘块一次挂到链尾，并修改链尾。</p>
</blockquote>
</li>
<li class="lvl-2">
<p>空闲盘区链的分与回收</p>
<blockquote>
<p><img src="image-20230307205126520.png" alt="image-20230307205126520"></p>
</blockquote>
</li>
</ul>
<blockquote>
<p>存储空间管理–位示图法</p>
</blockquote>
<p><img src="image-20230307205722417.png" alt="image-20230307205722417"></p>
<blockquote>
<p>存储空间管理 – 成组链接法</p>
</blockquote>
<ul class="lvl-0">
<li class="lvl-2">
<p>空闲表法和空闲链表法不适合用于大型的文件系统</p>
</li>
<li class="lvl-2">
<p>Unix采用成组链接法</p>
</li>
<li class="lvl-2">
<p>文件卷的目录区中会专门用一个磁盘块作为<code>超级块</code>，系统启动需要将超级块读入目录。</p>
</li>
</ul>
<p><img src="image-20230307212157210.png" alt="image-20230307212157210"></p>
<h3 id="数据一致性控制">数据一致性控制</h3>
<blockquote>
<p>事物机制</p>
</blockquote>
<blockquote>
<p>事物的定义：一系列数据相关项的读写操作</p>
</blockquote>
<h3 id="文件的基本操作">文件的基本操作</h3>
<p><img src="image-20230307212320565.png" alt="image-20230307212320565"></p>
<blockquote>
<p>打开文件</p>
</blockquote>
<p><img src="image-20230307212848046.png" alt="image-20230307212848046"></p>
<p><img src="image-20230307213113004.png" alt="image-20230307213113004"></p>
<h3 id="文件共享">文件共享</h3>
<p><img src="image-20230307213243545.png" alt="image-20230307213243545"></p>
<p><img src="image-20230307213643590.png" alt="image-20230307213643590"></p>
<h3 id="文件保护">文件保护</h3>
<p><img src="image-20230307214417705.png" alt="image-20230307214417705"></p>
<h3 id="文件系统的层次结构">文件系统的层次结构</h3>
<p><img src="image-20230307214653927.png" alt="image-20230307214653927"></p>
<p><img src="image-20230307214829659.png" alt="image-20230307214829659"></p>
<h2 id="第七章-操作系统接口">第七章 操作系统接口</h2>
<blockquote>
<p>系统调用的基本概念</p>
</blockquote>
<ul class="lvl-0">
<li class="lvl-2">
<p>用户在程序中调用操作系统所提供的一些子功能。通常也把被调用的操作系统功能，称为系统调用。</p>
</li>
</ul>
<p><img src="image-20230307235734577.png" alt="image-20230307235734577"></p>
<p><img src="image-20230307235804419.png" alt="image-20230307235804419"></p>

            </div>

            

            
                <ul class="post-tags-box">
                    
                        <li class="tag-item">
                            <a href="/tags/%E7%AC%94%E8%AE%B0/">#笔记</a>&nbsp;
                        </li>
                    
                </ul>
            

            
                <div class="article-nav">
                    
                        <div class="article-prev">
                            <a class="prev"
                               rel="prev"
                               href="/2023/03/05/%E5%8B%87%E5%A3%AB/"
                            >
                            <span class="left arrow-icon flex-center">
                              <i class="fas fa-chevron-left"></i>
                            </span>
                                <span class="title flex-center">
                                <span class="post-nav-title-item">勇士</span>
                                <span class="post-nav-item">上一篇</span>
                            </span>
                            </a>
                        </div>
                    
                    
                </div>
            

            
        </div>

        
            <div class="toc-content-container">
                <div class="post-toc-wrap">
    <div class="post-toc">
        <ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%AC%AC%E4%B8%80%E7%AB%A0-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%A6%82%E8%BF%B0"><span class="nav-text">第一章 操作系统概述</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%AC%AC%E4%BA%8C%E7%AB%A0-%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86"><span class="nav-text">第二章 进程管理</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%AC%AC%E4%B8%89%E7%AB%A0-%E8%BF%9B%E7%A8%8B%E8%B0%83%E5%BA%A6%E4%B8%8E%E6%AD%BB%E9%94%81"><span class="nav-text">第三章 进程调度与死锁</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%AC%AC%E5%9B%9B%E7%AB%A0-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86"><span class="nav-text">第四章 内存管理</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%AC%AC%E4%BA%94%E7%AB%A0-%E8%AE%BE%E5%A4%87%E7%AE%A1%E7%90%86"><span class="nav-text">第五章 设备管理</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#IO%E7%B3%BB%E7%BB%9F"><span class="nav-text">IO系统</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BC%93%E5%86%B2%E7%AE%A1%E7%90%86"><span class="nav-text">缓冲管理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AE%BE%E5%A4%87%E5%88%86%E9%85%8D"><span class="nav-text">设备分配</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%A3%81%E7%9B%98%E5%AD%98%E5%82%A8%E7%AE%A1%E7%90%86"><span class="nav-text">磁盘存储管理</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%AC%AC%E5%85%AD%E7%AB%A0-%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F"><span class="nav-text">第六章 文件系统</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%9D%E8%AF%86%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F"><span class="nav-text">初识文件系统</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%87%E4%BB%B6%E7%9A%84%E9%80%BB%E8%BE%91%E7%BB%93%E6%9E%84"><span class="nav-text">文件的逻辑结构</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%87%E4%BB%B6%E7%9B%AE%E5%BD%95"><span class="nav-text">文件目录</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%87%E4%BB%B6%E7%9A%84%E7%89%A9%E7%90%86%E7%BB%93%E6%9E%84%EF%BC%88%E6%96%87%E4%BB%B6%E7%9A%84%E5%88%86%E9%85%8D%E6%96%B9%E5%BC%8F%EF%BC%89"><span class="nav-text">文件的物理结构（文件的分配方式）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%87%E4%BB%B6%E5%AD%98%E5%82%A8%E7%A9%BA%E9%97%B4%E7%AE%A1%E7%90%86"><span class="nav-text">文件存储空间管理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E4%B8%80%E8%87%B4%E6%80%A7%E6%8E%A7%E5%88%B6"><span class="nav-text">数据一致性控制</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%87%E4%BB%B6%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C"><span class="nav-text">文件的基本操作</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%87%E4%BB%B6%E5%85%B1%E4%BA%AB"><span class="nav-text">文件共享</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%87%E4%BB%B6%E4%BF%9D%E6%8A%A4"><span class="nav-text">文件保护</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%B1%82%E6%AC%A1%E7%BB%93%E6%9E%84"><span class="nav-text">文件系统的层次结构</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%AC%AC%E4%B8%83%E7%AB%A0-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%8E%A5%E5%8F%A3"><span class="nav-text">第七章 操作系统接口</span></a></li></ol>
    </div>
</div>

            </div>
        
    </div>
</div>


                
            </div>

        </div>

        <div class="page-main-content-bottom">
            
<footer class="footer">
    <div class="info-container">
        <div class="copyright-info info-item">
            &copy;
            
                <span>2023</span> -
            
            2023
            
                &nbsp;<i class="fas fa-heart icon-animate"></i>
                &nbsp;<a href="/">Qiao</a>
            
        </div>
        
        <div class="theme-info info-item">
            <a target="_blank" href="https://hexo.io">Hexo</a> 框架&nbsp;|&nbsp;主題&nbsp;<a class="theme-version" target="_blank" href="https://github.com/XPoet/hexo-theme-keep">Keep v3.6.1</a>
        </div>
        
        
    </div>
</footer>

        </div>
    </div>

    
        <div class="post-tools">
            <div class="post-tools-container">
    <ul class="tools-list">
        <!-- TOC aside toggle -->
        
            <li class="tools-item flex-center toggle-show-toc">
                <i class="fas fa-list"></i>
            </li>
        

        <!-- go comment -->
        
    </ul>
</div>

        </div>
    

    <div class="right-bottom-side-tools">
        <div class="side-tools-container">
    <ul class="side-tools-list">
        <li class="tools-item tool-font-adjust-plus flex-center">
            <i class="fas fa-search-plus"></i>
        </li>

        <li class="tools-item tool-font-adjust-minus flex-center">
            <i class="fas fa-search-minus"></i>
        </li>

        <li class="tools-item tool-dark-light-toggle flex-center">
            <i class="fas fa-moon"></i>
        </li>

        <!-- rss -->
        

        

        <li class="tools-item tool-scroll-to-bottom flex-center">
            <i class="fas fa-arrow-down"></i>
        </li>
    </ul>

    <ul class="exposed-tools-list">
        <li class="tools-item tool-toggle-show flex-center">
            <i class="fas fa-cog fa-spin"></i>
        </li>
        
            <li class="tools-item tool-scroll-to-top flex-center">
                <i class="arrow-up fas fa-arrow-up"></i>
                <span class="percent"></span>
            </li>
        
    </ul>
</div>

    </div>

    <div class="zoom-in-image-mask">
    <img class="zoom-in-image">
</div>


    

</main>



<script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.6.1/source/js/utils.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.6.1/source/js/main.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.6.1/source/js/header-shrink.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.6.1/source/js/back2top.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.6.1/source/js/dark-light-toggle.js"></script>






    <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.6.1/source/js/code-block.js"></script>




<div class="post-scripts">
    
        <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.6.1/source/js/post-helper.js"></script>
        
            <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.6.1/source/js/libs/anime.min.js"></script>
        
        
            <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.6.1/source/js/toc.js"></script>
        
    
</div>



</body>
</html>
